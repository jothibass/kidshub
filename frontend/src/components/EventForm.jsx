import React,{useState}from'react';import * as api from'../api/kidshub';
export default function EventForm({childId,onCreated}){const[title,setTitle]=useState('');const[date,setDate]=useState('');const[desc,setDesc]=useState('');const[saving,setSaving]=useState(false);
async function save(){if(!title.trim())return alert('Please add a title');setSaving(true);try{const r=await api.postEvent(childId,{title,event_date:date||null,description:desc});onCreated&&onCreated(r);setTitle('');setDate('');setDesc('');}catch(e){alert('Save failed: '+e.message)}finally{setSaving(false)}} 
return(<div className="card"><h3>Add Event</h3><div className="form-row"><input placeholder="Title"value={title}onChange={e=>setTitle(e.target.value)}/></div><div className="form-row"><input type="date"value={date}onChange={e=>setDate(e.target.value)}/></div><div className="form-row"><textarea placeholder="Description"value={desc}onChange={e=>setDesc(e.target.value)}/></div><div style={{display:'flex',justifyContent:'flex-end',gap:8}}><button className="btn secondary"onClick={()=>{setTitle('');setDate('');setDesc('');}}>Clear</button><button className="btn"onClick={save}disabled={saving}>{saving?'Saving...':'Save Event'}</button></div></div>);}
